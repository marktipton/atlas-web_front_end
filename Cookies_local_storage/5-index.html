<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>

        <meta charset="utf-8" />
        <title>Task 5</title>
        <!-- <script src="src/index.js" defer></script> -->
    </head>

    <body>

      <script>
        function isLocalStorageSupported() {
          try {
            localStorage.setItem('test', 'test');
            localStorage.removeItem('test');
            return true;
          } catch (e) {
            return false;
          }
        }
        function addItemToCart(item) {
          localStorage.setItem(item, true);
          displayCart();
        }

        function createStore() {
          var items = ['Shampoo', 'Soap', 'Sponge', 'Water'];
          var ul = document.createElement('ul');

          items.forEach(function(item) {
            var li = document.createElement('li');
            li.textContent = item;
            li.addEventListener('click', function() {
              addItemToCart(item);
            });
            ul.appendChild(li);
          });

          document.body.appendChild(ul);
        }

        function displayCart() {
          var cart = Object.keys(localStorage);
          var cartCount = cart.length;

          if (cartCount > 0) {
            var p = document.createElement('p');
            p.textContent = 'You previously had ' + cartCount + ' items in your cart';
            document.body.appendChild(p);
          }
        }

        if (isLocalStorageSupported()) {
          createStore();
          displayCart();
        } else {
          alert('Sorry, your browser does not support Web storage. Try again with a better one');
        }
      </script>
    </body>

</html>